{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Komal Kamble\\\\OneDrive\\\\Desktop\\\\Tanuja Documents\\\\NxtWave\\\\Assignment\\\\Insyd-Assignment\\\\insyd_notification_poc\\\\frontend\\\\src\\\\components\\\\NotificationList.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState, useRef } from 'react';\nimport API from '../api';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function NotificationList({\n  userId\n}) {\n  _s();\n  const [list, setList] = useState([]);\n  const intervalRef = useRef(null);\n  const fetchNotifications = async () => {\n    if (!userId) return;\n    try {\n      const res = await API.get(`/notifications/${userId}`);\n      setList(res.data.notifications || []);\n    } catch (err) {\n      console.error(err);\n    }\n  };\n  useEffect(() => {\n    fetchNotifications();\n    intervalRef.current = setInterval(fetchNotifications, 3000);\n    return () => clearInterval(intervalRef.current);\n  }, [userId]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n      children: \"Notifications\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 26,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [list.length === 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n        children: \"No notifications\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 28,\n        columnNumber: 32\n      }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n        children: list.map(n => /*#__PURE__*/_jsxDEV(\"li\", {\n          style: {\n            padding: 8,\n            borderBottom: '1px solid #ddd'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n              children: n.type\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 32,\n              columnNumber: 20\n            }, this), \" \\u2014 \", n.content]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 32,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              fontSize: 12,\n              color: '#666'\n            },\n            children: new Date(n.createdAt).toLocaleString()\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 33,\n            columnNumber: 15\n          }, this)]\n        }, n._id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 31,\n          columnNumber: 13\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 29,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 27,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 25,\n    columnNumber: 5\n  }, this);\n}\n_s(NotificationList, \"XQPDDEfFwE0q7ZFyWnFV9uAoRF4=\");\n_c = NotificationList;\nvar _c;\n$RefreshReg$(_c, \"NotificationList\");","map":{"version":3,"names":["React","useEffect","useState","useRef","API","jsxDEV","_jsxDEV","NotificationList","userId","_s","list","setList","intervalRef","fetchNotifications","res","get","data","notifications","err","console","error","current","setInterval","clearInterval","children","fileName","_jsxFileName","lineNumber","columnNumber","length","map","n","style","padding","borderBottom","type","content","fontSize","color","Date","createdAt","toLocaleString","_id","_c","$RefreshReg$"],"sources":["C:/Users/Komal Kamble/OneDrive/Desktop/Tanuja Documents/NxtWave/Assignment/Insyd-Assignment/insyd_notification_poc/frontend/src/components/NotificationList.js"],"sourcesContent":["import React, { useEffect, useState, useRef } from 'react';\nimport API from '../api';\n\nexport default function NotificationList({ userId }){\n  const [list, setList] = useState([]);\n  const intervalRef = useRef(null);\n\n  const fetchNotifications = async () => {\n    if (!userId) return;\n    try{\n      const res = await API.get(`/notifications/${userId}`);\n      setList(res.data.notifications || []);\n    }catch(err){\n      console.error(err);\n    }\n  }\n\n  useEffect(()=>{\n    fetchNotifications();\n    intervalRef.current = setInterval(fetchNotifications, 3000);\n    return ()=> clearInterval(intervalRef.current);\n  }, [userId]);\n\n  return (\n    <div>\n      <h3>Notifications</h3>\n      <div>\n        {list.length === 0 && (<div>No notifications</div>)}\n        <ul>\n          {list.map(n => (\n            <li key={n._id} style={{ padding: 8, borderBottom: '1px solid #ddd' }}>\n              <div><strong>{n.type}</strong> â€” {n.content}</div>\n              <div style={{ fontSize: 12, color: '#666' }}>{new Date(n.createdAt).toLocaleString()}</div>\n            </li>\n          ))}\n        </ul>\n      </div>\n    </div>\n  );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}